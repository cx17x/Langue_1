method test_send_one_byte()
begin
    send_byte(read_byte());
end;

method test_builtin_func()
var a: uint;
    b: int;
begin
    a := 49;
    b := 0-1;
    4;
    send_byte(int_to_byte(uint_to_int(a) + b));
    1;
    send_byte(49);
end;

method test_math()
var a: uint;
    b: uint;
begin
    b := 200;
    a := (
        (
            ((((5000 + 3000) * 4 - b * 10) / 10) % 97)
            - (b * 5 / 25)
        )
        +
        (
            (((b * 6 / 3) - b * 2) * (7 - 7))
            + ((99 % 9) * (123 + 1))
            + (((500 / 10) - 50) * b)
        ) / 1
    );
    send_byte(int_to_byte(uint_to_int(a)));
end;

method test_if(a: int) begin
    if a = 3 then
        send_byte(50);
    else
        if a = 4 then
            send_byte(48);
        else
            send_byte(49);
end;

method test_req(a: int) begin
    if a = 0 then
        send_byte(48);
    else begin
        send_byte(int_to_byte(48+a));
        test_req(a-1);
        send_byte(int_to_byte(48+a));
    end;
end;

method test_while(a: int) begin
    while a != 0 do begin
        send_byte(int_to_byte(a + 48));
        a := a - 1;
    end;
end;

method test_break(a: int) begin
    while a != 0 do begin
        send_byte(int_to_byte(a + 48));
        a := a - 1;
        if a = 3 then
            break;
    end;
end;

method test_many_operands(a: byte, b: byte, c: bool) begin
    send_byte(a);
    send_byte(b);
    send_byte(48 + bool_to_byte(c));
end;

method test_mas(a: int)
var b, c, d: array[] of int;
begin
    b := int(a);
    b[0] := 50;
    b[2] := 51;
    send_byte(int_to_byte(b[0]));
    send_byte(int_to_byte(b[2]));
    c := int(a);
    c[0] := 52;
    c[9] := 53;
    send_byte(int_to_byte(c[0]));
    send_byte(int_to_byte(c[9]));
    d := int(a);
    d[0] := 0x3031;
    d[1] := 0x3332;
    send_byte(int_to_byte(d[0]));
    send_byte(int_to_byte(d[0] >> 8));
    send_byte(int_to_byte(d[1]));
    send_byte(int_to_byte(d[1] >> 8));
end;

method main()
begin
    test_send_one_byte();
    send_byte(0x0A);
    test_builtin_func();
    send_byte(0x0A);
    test_math();
    send_byte(0x0A);
    test_if(5);
    send_byte(0x0A);
    test_if(3);
    send_byte(0x0A);
    test_if(4);
    send_byte(0x0A);
    test_req(0);
    send_byte(0x0A);
    test_req(5);
    send_byte(0x0A);
    test_while(9);
    send_byte(0x0A);
    test_break(9);
    send_byte(0x0A);
    test_many_operands(50, 49, true);
    send_byte(0x0A);
    test_mas(10);
end;
