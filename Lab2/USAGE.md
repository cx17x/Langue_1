# Lab2 — Построение графа потока управления (CFG)

Коротко: в этой папке — начальный инструмент, который парсит входные файлы с помощью сгенерированного парсера (Lab1) и для каждой обнаруженной подпрограммы создаёт заготовочный файл DOT с именем `sourceName.functionName.dot`.

Как собрать:

1. Сгенерировать парсер (если вы меняли `Lab1/grammar.js`):

```bash
cd Lab1
npx tree-sitter generate
cd ..
```

2. Собрать исполняемый файл:

```bash
clang Lab2/main.c Lab1/src/parser.c vendor/tree-sitter/lib/src/lib.c \
  -I vendor/tree-sitter/lib/include -I vendor/tree-sitter/lib/src -o lab2_cfg
```

3. Запуск (пример):

```bash
./lab2_cfg Lab1/examples/*.txt --outdir Lab2/out
```

Результат: для каждой подпрограммы будет создан файл DOT в `Lab2/out` (или в текущей директории, если `--outdir` не указан).

Дальнейшие шаги:
- Расширить `Lab2/main.c` чтобы:
  - строить реальные базовые блоки и ребра CFG (условные/безусловные),
  - ассоциировать с каждым блоком дерево операций (см. задание 1),
  - формировать граф вызовов всех подпрограмм.
